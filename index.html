<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div>
        <form action="" id="mainForm">
            <fieldset>
                <legend>Add a book</legend>
                <div class="formInputs">
                    <label for="title" spellcheck="true">Title</label>
                    <input type="text" id="title" name="title" required>
                    <label for="author">Author</label>
                    <input type="text" id="author" required>  
                    <label for="pages">Pages</label>
                    <input type="number" id="pages" required>
                    <label for="">Have you read it?</label>
                    <div>
                        <input type="radio" value="true" id="isRead" name="isRead">
                        <label for="isRead">Yes</label>
                        <input type="radio" value="false" id="isRead" name="isRead">
                        <label for="isRead">No</label>
                    </div>
                </div>
                <button type="button" id="formBtn">Add Book</button>
            </fieldset>
        </form>
        <button id="showBooks">Show Books</button>
    </div>
    
    <div id="library">

    </div>

    <script>
        let myLibrary = [];

        function Book(title, author, pages, isRead) {
            this.author = author
            this.title = title
            this.pages = pages
            this.isRead = isRead
        };

        let count = 0;

        function addBookToLibrary(input) {
            count++;
            input.count = count;
            myLibrary.push(input);
        };

        function showBooks(){

            myLibrary.map((book) => {
                if(book.isDisplayed === true){
                    return
                }

                const index = book.count;
                book.isDisplayed = true;
                
                const newBook = document.createElement('div');
                newBook.setAttribute('id', index);
                newBook.classList.add('book')
                document.getElementById('library').appendChild(newBook);

                for (const key in book) {
                    const bookInfo = document.createElement('div');
                    bookInfo.classList.add('book-info');
                    bookInfo.innerText = book[key];
                    document.getElementById(index).appendChild(bookInfo);
                    }
            })
        };

        const book1 = new Book('Hobbit', 'J.R.R.', 295, true);
        const book2 = new Book('Two States', 'Chetan', 150, true);

        addBookToLibrary(book1);
        addBookToLibrary(book2);

        document.getElementById('showBooks').addEventListener('click', () => showBooks())

    </script>
</body>
</html>