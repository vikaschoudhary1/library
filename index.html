<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div>
        <form action="" id="mainForm">
            <fieldset>
                <legend>Add a book</legend>
                <label for="title" spellcheck="true">Title</label>
                <input type="text" id="title" name="title">
                <label for="author">Author</label>
                <input type="text" id="author">
                <label for="pages">Pages</label>
                <input type="number" id="pages">
                <label for="isRead">Have you read it?</label>
                <select name="isRead" id="isRead">
                    <option value="true">Yes</option>
                    <option value="false">Not yet</option>
                </select>
                <button type="button">Add Book</button>
            </fieldset>
        </form>
        <button id="showBooks">Show Books</button>
    </div>
    
    <div id="library">

    </div>

    <script>
        let myLibrary = [];

        function Book(title, author, pages, isRead) {
            this.author = author
            this.title = title
            this.pages = pages
            this.isRead = isRead
        };

        function addBookToLibrary(input) {
            myLibrary.push(input);
        };

        function showBooks(){

            console.log(document.getElementsByClassName('book'));

            myLibrary.map((book) => {

                const author = book.author;
                const title = book.title;
                const pages = book.pages;
                const isRead = book.isRead;
                
                const para = document.createElement('div');
                para.setAttribute('id',pages);
                para.classList.add('book')
                document.getElementById('library').appendChild(para);

                for (const key in book) {
                    const bookInfo = document.createElement('div');
                    bookInfo.classList.add('book-info');
                    bookInfo.innerText = book[key];
                    document.getElementById(pages).appendChild(bookInfo);
                    }
            })
        };

        const book1 = new Book('Hobbit', 'J.R.R.', 295, true);
        const book2 = new Book('Two States', 'Chetan', 150, true);

        addBookToLibrary(book1);
        addBookToLibrary(book2);

        document.getElementById('showBooks').addEventListener('click', () => showBooks())

    </script>
</body>
</html>